"use strict";(self.webpackChunktalking_web=self.webpackChunktalking_web||[]).push([[31],{31:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var l=a(43),n=a(260),t=a(434),r=a(791),i=a(472),o=a(579);const c=()=>{const[e,s]=(0,l.useState)(""),[a,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[g,f]=(0,l.useState)(!1),j=(0,n.Zp)();return(0,o.jsx)("div",{className:"login-container",children:(0,o.jsxs)("div",{className:"login-card",children:[(0,o.jsx)("h1",{className:"app-title",children:"Rental Portal"}),(0,o.jsx)("p",{className:"welcome-msg",children:"Welcome back! Please log in to continue."}),m&&(0,o.jsx)("div",{className:"error-box",children:m}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),p(""),x(!0);try{const s=(await(0,t.x9)(r.j,e,a)).user.uid,l=await(0,i.x7)((0,i.H9)(r.db,"users",s));if(!l.exists())throw new Error("User role not found.");const n=l.data().role;if("admin"!==n&&"tenant"!==n)throw new Error("Invalid user role.");j("/",{replace:!0})}catch(l){p(l.message||"Login failed. Please try again.")}finally{x(!1)}},className:"login-form",children:[(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"Email"}),(0,o.jsxs)("div",{className:"input-icon",children:[(0,o.jsx)("i",{className:"fas fa-envelope icon-left"}),(0,o.jsx)("input",{type:"email",placeholder:"you@example.com",value:e,onChange:e=>s(e.target.value),required:!0})]})]}),(0,o.jsxs)("div",{className:"input-group",children:[(0,o.jsx)("label",{children:"Password"}),(0,o.jsxs)("div",{className:"input-icon password-wrapper",children:[(0,o.jsx)("i",{className:"fas fa-lock icon-left"}),(0,o.jsx)("input",{type:d?"text":"password",placeholder:"Enter your password",value:a,onChange:e=>c(e.target.value),required:!0}),(0,o.jsx)("button",{type:"button",className:"toggle-password",onClick:()=>u((e=>!e)),children:(0,o.jsx)("i",{className:" fas ".concat(d?"fa-eye-slash":"fa-eye")})})]})]}),(0,o.jsxs)("div",{className:"form-options",children:[(0,o.jsxs)("label",{className:"remember-me",children:[(0,o.jsx)("input",{type:"checkbox",checked:g,onChange:()=>f(!g)}),"Remember me"]}),(0,o.jsx)("a",{href:"/forgot-password",className:"forgot-link",children:"Forgot Password?"})]}),(0,o.jsx)("button",{type:"submit",className:"login-btn",disabled:!e||!a||h,children:h?"Logging in...":"Login"})]})]})})}}}]);
//# sourceMappingURL=31.d2284e6a.chunk.js.map