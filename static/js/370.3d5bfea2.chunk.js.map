{"version":3,"file":"static/js/370.3d5bfea2.chunk.js","mappings":"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","sources":["pages/tenant/fetchBills.js","../node_modules/@stripe/stripe-js/dist/index.mjs","pages/tenant/TenantDashboard.jsx"],"sourcesContent":["import { db } from '../../firebase';\r\nimport { collection, getDocs } from 'firebase/firestore';\r\n\r\nexport async function fetchBills(tenantId) {\r\n    if (!tenantId) throw new Error('Invalid tenantId');\r\n    try {\r\n        const billsRef = collection(db, 'users', tenantId, 'bill');\r\n        const snapshot = await getDocs(billsRef);\r\n        return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    } catch (error) {\r\n        console.error('Error fetching bills:', error);\r\n        throw error;\r\n    }\r\n}","var RELEASE_TRAIN = 'basil';\n\nvar runtimeVersionToUrlVersion = function runtimeVersionToUrlVersion(version) {\n  return version === 3 ? 'v3' : version;\n};\n\nvar ORIGIN = 'https://js.stripe.com';\nvar STRIPE_JS_URL = \"\".concat(ORIGIN, \"/\").concat(RELEASE_TRAIN, \"/stripe.js\");\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar STRIPE_JS_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\n\nvar isStripeJSURL = function isStripeJSURL(url) {\n  return V3_URL_REGEX.test(url) || STRIPE_JS_URL_REGEX.test(url);\n};\n\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(ORIGIN, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!isStripeJSURL(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(STRIPE_JS_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"7.8.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise$1 = null;\nvar onErrorListener = null;\nvar onLoadListener = null;\n\nvar onError = function onError(reject) {\n  return function (cause) {\n    reject(new Error('Failed to load Stripe.js', {\n      cause: cause\n    }));\n  };\n};\n\nvar onLoad = function onLoad(resolve, reject) {\n  return function () {\n    if (window.Stripe) {\n      resolve(window.Stripe);\n    } else {\n      reject(new Error('Stripe.js not available'));\n    }\n  };\n};\n\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise$1 !== null) {\n    return stripePromise$1;\n  }\n\n  stripePromise$1 = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      } else if (script && onLoadListener !== null && onErrorListener !== null) {\n        var _script$parentNode;\n\n        // remove event listeners\n        script.removeEventListener('load', onLoadListener);\n        script.removeEventListener('error', onErrorListener); // if script exists, but we are reloading due to an error,\n        // reload script to trigger 'load' event\n\n        (_script$parentNode = script.parentNode) === null || _script$parentNode === void 0 ? void 0 : _script$parentNode.removeChild(script);\n        script = injectScript(params);\n      }\n\n      onLoadListener = onLoad(resolve, reject);\n      onErrorListener = onError(reject);\n      script.addEventListener('load', onLoadListener);\n      script.addEventListener('error', onErrorListener);\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  }); // Resets stripePromise on error\n\n  return stripePromise$1[\"catch\"](function (error) {\n    stripePromise$1 = null;\n    return Promise.reject(error);\n  });\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var pk = args[0];\n  var isTestKey = pk.match(/^pk_test/); // @ts-expect-error this is not publicly typed\n\n  var version = runtimeVersionToUrlVersion(maybeStripe.version);\n  var expectedVersion = RELEASE_TRAIN;\n\n  if (isTestKey && version !== expectedVersion) {\n    console.warn(\"Stripe.js@\".concat(version, \" was loaded on the page, but @stripe/stripe-js@\").concat(\"7.8.0\", \" expected Stripe.js@\").concat(expectedVersion, \". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\nvar stripePromise;\nvar loadCalled = false;\n\nvar getStripePromise = function getStripePromise() {\n  if (stripePromise) {\n    return stripePromise;\n  }\n\n  stripePromise = loadScript(null)[\"catch\"](function (error) {\n    // clear cache on error\n    stripePromise = null;\n    return Promise.reject(error);\n  });\n  return stripePromise;\n}; // Execute our own script injection after a tick to give users time to do their\n// own script injection.\n\n\nPromise.resolve().then(function () {\n  return getStripePromise();\n})[\"catch\"](function (error) {\n  if (!loadCalled) {\n    console.warn(error);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now(); // if previous attempts are unsuccessful, will re-load script\n\n  return getStripePromise().then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","\r\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport {\r\n  FaHome, FaReceipt, FaMoneyBillWave, FaBolt,\r\n  FaChartPie, FaCog, FaBars, FaTimes, FaChevronLeft, FaChevronRight\r\n} from 'react-icons/fa';\r\nimport { FiLogOut } from 'react-icons/fi';\r\nimport { getAuth, signOut, onAuthStateChanged } from 'firebase/auth';\r\nimport { doc, getDoc, updateDoc, setDoc } from 'firebase/firestore';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { db } from '../../firebase';\r\nimport { fetchBills } from './fetchBills';\r\nimport './TenantDashboard.css';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nfunction useToasts() {\r\n  const [toasts, setToasts] = useState([]);\r\n  const show = useCallback((message, type = 'info', ttl = 3500) => {\r\n    const id = Math.random().toString(36).slice(2);\r\n    setToasts(t => [...t, { id, message, type }]);\r\n    setTimeout(() => setToasts(t => t.filter(x => x.id !== id)), ttl);\r\n  }, []);\r\n  return { toasts, show };\r\n}\r\nfunction Toasts({ toasts }) {\r\n  return (\r\n    <div className=\"toasts\">\r\n      {toasts.map(t => (\r\n        <div key={t.id} className={`toast ${t.type}`}>{t.message}</div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useWindowSize() {\r\n  const [size, setSize] = useState({\r\n    width: typeof window !== 'undefined' ? window.innerWidth : 1024,\r\n    height: typeof window !== 'undefined' ? window.innerHeight : 768\r\n  });\r\n  useEffect(() => {\r\n    let t;\r\n    const handle = () => {\r\n      clearTimeout(t);\r\n      t = setTimeout(() => setSize({ width: window.innerWidth, height: window.innerHeight }), 150);\r\n    };\r\n    window.addEventListener('resize', handle);\r\n    return () => window.removeEventListener('resize', handle);\r\n  }, []);\r\n  return size;\r\n}\r\n\r\nconst inr = new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 });\r\nfunction formatINR(n) { return inr.format(Number(n || 0)); }\r\n\r\n/* ===========================\r\n   Layout components\r\n   =========================== */\r\n\r\nfunction Sidebar({ activePanel, onSelect }) {\r\n  const items = [\r\n    { id: null, icon: <FaHome />, label: 'Dashboard' },\r\n    { id: 'payments', icon: <FaReceipt />, label: 'Payments' },\r\n    { id: 'houseRent', icon: <FaMoneyBillWave />, label: 'House Rent' },\r\n    { id: 'electricity', icon: <FaBolt />, label: 'Electricity' },\r\n    { id: 'analytics', icon: <FaChartPie />, label: 'Analytics' },\r\n    { id: 'settings', icon: <FaCog />, label: 'Settings' },\r\n  ];\r\n  return (\r\n    <aside className=\"sidebar\" role=\"navigation\" aria-label=\"Quick actions\">\r\n      <h3>Quick Actions</h3>\r\n      <ul className=\"quick-action-list\">\r\n        {items.map(({ id, icon, label }) => (\r\n          <li\r\n            key={label}\r\n            className={activePanel === id ? 'active' : ''}\r\n            onClick={() => onSelect(id)}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n            onKeyDown={e => (e.key === 'Enter' || e.key === ' ') && onSelect(id)}\r\n            aria-current={activePanel === id ? 'page' : undefined}\r\n          >\r\n            {icon} {label}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </aside>\r\n  );\r\n}\r\n\r\nfunction Header({ onLogout, onToggleSidebar, sidebarOpen }) {\r\n  const confirmLogout = () => {\r\n    if (window.confirm('Are you sure you want to log out?')) onLogout();\r\n  };\r\n  return (\r\n    <div className=\"header-actions\">\r\n      <button\r\n        className=\"sidebar-toggle\"\r\n        onClick={onToggleSidebar}\r\n        aria-label={sidebarOpen ? 'Close menu' : 'Open menu'}\r\n        title={sidebarOpen ? 'Close menu' : 'Open menu'}\r\n      >\r\n        {sidebarOpen ? <FaTimes /> : <FaBars />}\r\n      </button>\r\n      <button className=\"logout-icon\" onClick={confirmLogout} title=\"Logout\" aria-label=\"Logout\">\r\n        <FiLogOut />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction PaymentModal({ bill, processing, statusMessage, onClose, handlePayment }) {\r\n  const modalRef = useRef(null);\r\n  const firstFocusable = useRef(null);\r\n  const lastFocusable = useRef(null);\r\n\r\n\r\n  useEffect(() => {\r\n    const el = modalRef.current;\r\n    if (!el) return;\r\n\r\n    const focusables = el.querySelectorAll(\r\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n    );\r\n    if (focusables.length) {\r\n      firstFocusable.current = focusables[0];\r\n      lastFocusable.current = focusables[focusables.length - 1];\r\n      firstFocusable.current.focus();\r\n    }\r\n\r\n    const trap = (e) => {\r\n      if (e.key !== 'Tab') return;\r\n      const isShift = e.shiftKey;\r\n      if (document.activeElement === firstFocusable.current && isShift) {\r\n        e.preventDefault();\r\n        lastFocusable.current.focus();\r\n      } else if (document.activeElement === lastFocusable.current && !isShift) {\r\n        e.preventDefault();\r\n        firstFocusable.current.focus();\r\n      }\r\n    };\r\n\r\n    const esc = (e) => {\r\n      if (e.key === 'Escape' && !processing) onClose();\r\n    };\r\n\r\n    document.addEventListener('keydown', trap);\r\n    document.addEventListener('keydown', esc);\r\n    return () => {\r\n      document.removeEventListener('keydown', trap);\r\n      document.removeEventListener('keydown', esc);\r\n    };\r\n  }, [processing, onClose]);\r\n\r\n  const handleGooglePay = async () => {\r\n    if (processing) return;\r\n    await handlePayment(bill);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-overlay\" onClick={() => !processing && onClose()} aria-hidden=\"true\" />\r\n      <div className=\"payment-modal fade-in-down\" role=\"dialog\" aria-modal=\"true\" ref={modalRef}>\r\n        <div className=\"modal-header\">\r\n          <h3>Pay ₹{bill.amount}</h3>\r\n          <button onClick={onClose} disabled={processing} aria-label=\"Close\">\r\n            <FaTimes />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <p><strong>Due:</strong> {bill.billFor}</p>\r\n          <p>Pay securely using Google Pay.</p>\r\n          {statusMessage && <p className=\"status-msg\">{statusMessage}</p>}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button className=\"btn-cancel\" onClick={onClose} disabled={processing}>\r\n            Cancel\r\n          </button>\r\n          <button\r\n            className={`btn-confirm ${processing ? 'btn-loading' : ''}`}\r\n            onClick={handleGooglePay}\r\n            disabled={processing}\r\n          >\r\n            {processing ? 'Processing...' : 'Pay with Google Pay'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst SuccessDialog = ({ meta, onClose }) => {\r\n  useEffect(() => {\r\n    const onEsc = (e) => e.key === 'Escape' && onClose?.();\r\n    window.addEventListener('keydown', onEsc);\r\n    return () => window.removeEventListener('keydown', onEsc);\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div className=\"success-overlay\" role=\"dialog\" aria-modal=\"true\" onClick={onClose}>\r\n      <div className=\"success-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"success-icon-wrap\">\r\n          <svg className=\"success-ring\" viewBox=\"0 0 120 120\">\r\n            <circle className=\"ring-bg\" cx=\"60\" cy=\"60\" r=\"54\" />\r\n            <circle className=\"ring-fg\" cx=\"60\" cy=\"60\" r=\"54\" />\r\n            <path\r\n              className=\"check\"\r\n              d=\"M40 64 L55 78 L82 48\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n            />\r\n          </svg>\r\n        </div>\r\n\r\n        <h3 className=\"success-title\">Payment successful</h3>\r\n        {meta && (\r\n          <p className=\"success-subtitle\">\r\n            {meta.type} • {meta.month} {meta.year}\r\n            <br />\r\n            <strong>{formatINR(meta.amount || 0)}</strong>\r\n          </p>\r\n        )}\r\n\r\n        <button className=\"btn btn-primary success-close\" onClick={onClose}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/* ===========================\r\n   Panels\r\n   =========================== */\r\n\r\nfunction OverviewPanel({ bills }) {\r\n  const rentDue = useMemo(\r\n    () => bills\r\n      .filter(b => b.type === 'rent' && b.status !== 'Paid')\r\n      .reduce((s, b) => s + b.amount, 0),\r\n    [bills]\r\n  );\r\n\r\n  const elecDue = useMemo(\r\n    () => bills\r\n      .filter(b => b.type === 'electricity' && b.status !== 'Paid')\r\n      .reduce((s, b) => s + b.amount, 0),\r\n    [bills]\r\n  );\r\n\r\n  const upcoming = useMemo(\r\n    () =>\r\n      bills\r\n        .filter(b => b.status !== 'Paid')\r\n        .sort((a, b) => new Date(a.billFor) - new Date(b.billFor))[0],\r\n    [bills]\r\n  );\r\n\r\n  return (\r\n    <div className=\"feature-panel fade-in\">\r\n      <h2>Dashboard Overview</h2>\r\n      <div className=\"summary-cards\">\r\n        <div className=\"card\"><h4>Rent Due</h4><p>{formatINR(rentDue)}</p></div>\r\n        <div className=\"card\"><h4>Electricity Due</h4><p>{formatINR(elecDue)}</p></div>\r\n        <div className=\"card\"><h4>Upcoming Bill</h4><p>{upcoming?.billFor || 'None'}</p></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PaymentsPanel({ bills /*, openModal (hidden here) */ }) {\r\n  const [status, setStatus] = useState('all');\r\n  const sorted = useMemo(\r\n    () => [...bills].sort((a, b) => new Date(b.billFor) - new Date(a.billFor)),\r\n    [bills]\r\n  );\r\n  const filtered = useMemo(\r\n    () =>\r\n      sorted.filter(b =>\r\n        status === 'all' ? true : status === 'paid' ? b.status === 'Paid' : b.status !== 'Paid'\r\n      ),\r\n    [sorted, status]\r\n  );\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const rowsPerPage = 5;\r\n  const indexOfLastRow = currentPage * rowsPerPage;\r\n  const indexOfFirstRow = indexOfLastRow - rowsPerPage;\r\n  const currentRows = filtered.slice(indexOfFirstRow, indexOfLastRow);\r\n  const totalPages = Math.ceil(filtered.length / rowsPerPage);\r\n  return (\r\n    <div className=\"feature-panel fade-in\">\r\n      <div className=\"panel-head\">\r\n        <h2>All Bills</h2>\r\n        <select value={status} onChange={e => {\r\n          setStatus(e.target.value);\r\n          setCurrentPage(1);\r\n        }}>\r\n          <option value=\"all\">All</option>\r\n          <option value=\"due\">Due</option>\r\n          <option value=\"paid\">Paid</option>\r\n        </select>\r\n      </div>\r\n\r\n      {filtered.length ? (\r\n        <>\r\n          <div className=\"table-container\">\r\n            <table className=\"feature-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Month</th>\r\n                  <th>Type</th>\r\n                  <th>Amount</th>\r\n                  <th>Due</th>\r\n                  <th>Status</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {currentRows.map(b => (\r\n                  <tr key={b.id}>\r\n                    <td>{b.month} {b.year}</td>\r\n                    <td>{b.type}</td>\r\n                    <td>{formatINR(b.amount)}</td>\r\n                    <td>{b.billFor}</td>\r\n                    <td className={b.status === 'Paid' ? 'paid' : 'due'}>\r\n                      <span className={`badge ${b.status === 'Paid' ? 'paid' : 'due'}`}>\r\n                        {b.status}\r\n                      </span>\r\n                    </td>\r\n                    <td><span style={{ opacity: 0.6 }}>—</span></td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"pagination\">\r\n            <button\r\n              onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n              disabled={currentPage === 1}\r\n              aria-label=\"Previous page\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M12.293 16.293a1 1 0 010-1.414L16.586 10 12.293 5.707a1 1 0 011.414-1.414L18.414 10l-4.707 4.707a1 1 0 01-1.414 0z\" transform=\"rotate(180 10 10)\" />\r\n              </svg>\r\n            </button>\r\n\r\n            <span>{currentPage} / {totalPages}</span>\r\n\r\n            <button\r\n              onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n              disabled={currentPage === totalPages}\r\n              aria-label=\"Next page\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M12.293 16.293a1 1 0 010-1.414L16.586 10 12.293 5.707a1 1 0 011.414-1.414L18.414 10l-4.707 4.707a1 1 0 01-1.414 0z\" />\r\n              </svg>\r\n            </button>\r\n\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p className=\"no-bills\">No bills found</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CategoryPanel({ bills = [], type = 'rent', openModal }) {\r\n  const [monthFilter, setMonthFilter] = useState('');\r\n  const [yearFilter, setYearFilter] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 10;\r\n\r\n  const MONTHS = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  const MONTH_INDEX = useMemo(() => {\r\n    const map = {};\r\n    MONTHS.forEach((m, i) => {\r\n      map[m.toLowerCase()] = i;\r\n      map[m.slice(0, 3).toLowerCase()] = i;\r\n    });\r\n    return map;\r\n  }, []);\r\n\r\n  const toMonthIndex = (m) => {\r\n    if (!m) return -1;\r\n    const key = String(m).toLowerCase().trim();\r\n    return MONTH_INDEX[key] ?? -1;\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setMonthFilter('');\r\n    setYearFilter('');\r\n    setPage(1);\r\n  };\r\n\r\n\r\n  const sortedBills = useMemo(() => {\r\n    return bills\r\n      .filter(b =>\r\n        b.type === type &&\r\n        (!monthFilter || String(b.month).trim() === monthFilter) &&\r\n        (!yearFilter || String(b.year) === String(yearFilter)) &&\r\n        b.status !== 'Paid'\r\n      )\r\n      .sort((a, b) => {\r\n        const yearA = Number(a.year) || 0;\r\n        const yearB = Number(b.year) || 0;\r\n        if (yearA !== yearB) return yearA - yearB;\r\n\r\n        const monthA = toMonthIndex(a.month);\r\n        const monthB = toMonthIndex(b.month);\r\n        return monthA - monthB;\r\n      });\r\n  }, [bills, type, monthFilter, yearFilter, MONTH_INDEX]);\r\n\r\n\r\n  const totalPages = Math.max(1, Math.ceil(sortedBills.length / pageSize));\r\n\r\n\r\n  useEffect(() => {\r\n    if (page > totalPages) setPage(totalPages);\r\n  }, [totalPages, page]);\r\n\r\n  const currentPage = Math.min(page, totalPages);\r\n\r\n  const paged = useMemo(() => {\r\n    const start = (currentPage - 1) * pageSize;\r\n    return sortedBills.slice(start, start + pageSize);\r\n  }, [sortedBills, currentPage]);\r\n\r\n  const formatINR = (amount) => `₹${Number(amount || 0).toLocaleString('en-IN')}`;\r\n\r\n  return (\r\n    <div className=\"bill-list-container\">\r\n      <h2 className=\"form-heading\">\r\n        {type === 'rent' ? 'House Rent Bills' : 'Electricity Bills'}\r\n      </h2>\r\n\r\n      <div className=\"filters-row\">\r\n        <select\r\n          className=\"select\"\r\n          value={monthFilter}\r\n          onChange={e => {\r\n            setMonthFilter(e.target.value);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <option value=\"\">All Months</option>\r\n          {MONTHS.map(m => (\r\n            <option key={m} value={m}>{m}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <select\r\n          className=\"select\"\r\n          value={yearFilter}\r\n          onChange={e => {\r\n            setYearFilter(e.target.value);\r\n            setPage(1);\r\n          }}\r\n        >\r\n          <option value=\"\">All Years</option>\r\n          {[2023, 2024, 2025].map(y => (\r\n            <option key={y} value={y}>{y}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <button className=\"btn\" onClick={resetFilters}>Reset</button>\r\n      </div>\r\n\r\n      {paged.length > 0 ? (\r\n        <>\r\n          <div className=\"tenant-table bill-table\">\r\n            <div className=\"table-wrapper\">\r\n              <table className=\"table\">\r\n                <thead className=\"thead\">\r\n                  <tr>\r\n                    <th>Month</th>\r\n                    <th className=\"ta-right\">Amount</th>\r\n\r\n                    {type === 'electricity' && <th className=\"ta-right\">Last Unit</th>}\r\n                    {type === 'electricity' && <th className=\"ta-right\">Current Unit</th>}\r\n                    {type === 'electricity' && <th className=\"ta-right\">Rate/Unit</th>}\r\n\r\n                    <th>Due For</th>\r\n                    <th>Note</th>\r\n                    <th>Status</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody className=\"tbody\">\r\n                  {paged.map(b => (\r\n                    <tr key={b.id}>\r\n                      <td>{b.month} {b.year}</td>\r\n                      <td className=\"ta-right\">{formatINR(b.amount)}</td>\r\n\r\n                      {type === 'electricity' && (\r\n                        <>\r\n                          <td className=\"ta-right\">\r\n                            {Number.isFinite(Number(b.lastUnit)) ? Number(b.lastUnit) : '-'}\r\n                          </td>\r\n                          <td className=\"ta-right\">\r\n                            {Number.isFinite(Number(b.currentUnit)) ? Number(b.currentUnit) : '-'}\r\n                          </td>\r\n                          <td className=\"ta-right\">\r\n                            {Number.isFinite(Number(b.ratePerUnit)) ? `₹${Number(b.ratePerUnit)}` : '-'}\r\n                          </td>\r\n                        </>\r\n                      )}\r\n\r\n                      <td>{b.billFor || '-'}</td>\r\n                      <td>{b.note || '-'}</td>\r\n                      <td className={b.status === 'Paid' ? 'paid' : 'due'}>{b.status}</td>\r\n                      <td>\r\n                        <button\r\n                          className=\"btn btn-small btn-primary\"\r\n                          onClick={() => openModal(b)}\r\n                        >\r\n                          Pay Now\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pagination\">\r\n            <button\r\n              className=\"btn btn-icon\"\r\n              disabled={currentPage <= 1}\r\n              style={{ width: 65 }}\r\n              onClick={() => setPage(p => Math.max(1, p - 1))}\r\n              aria-label=\"Previous page\"\r\n            >\r\n              <FaChevronLeft style={{ color: '#fff' }} />\r\n            </button>\r\n            <span className=\"page-indicator\">{currentPage}/{totalPages}</span>\r\n            <button\r\n              className=\"btn btn-icon\"\r\n              style={{ width: 65 }}\r\n              disabled={currentPage >= totalPages}\r\n              onClick={() => setPage(p => Math.min(totalPages, p + 1))}\r\n              aria-label=\"Next page\"\r\n            >\r\n              <FaChevronRight />\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"no-bills\">No pending bills found.</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nfunction AnalyticsPanel({ bills }) {\r\n  const totals = useMemo(() => {\r\n    const t = bills.reduce(\r\n      (acc, b) => {\r\n        acc.total += b.amount;\r\n        if (b.status === 'Paid') {\r\n          acc.paid += b.amount;\r\n          acc.countPaid += 1;\r\n        } else {\r\n          acc.due += b.amount;\r\n          acc.countDue += 1;\r\n        }\r\n        if (b.type === 'rent') acc.rent += b.amount;\r\n        if (b.type === 'electricity') acc.electricity += b.amount;\r\n        return acc;\r\n      },\r\n      { total: 0, paid: 0, due: 0, rent: 0, electricity: 0, countPaid: 0, countDue: 0 }\r\n    );\r\n    return t;\r\n  }, [bills]);\r\n\r\n  return (\r\n    <div className=\"feature-panel fade-in\">\r\n      <h2>Analytics</h2>\r\n      <div className=\"summary-cards\">\r\n        <div className=\"card\"><h4>Total</h4><p>{formatINR(totals.total)}</p></div>\r\n        <div className=\"card\"><h4>Paid</h4><p>{formatINR(totals.paid)} • {totals.countPaid} bills</p></div>\r\n        <div className=\"card\"><h4>Due</h4><p>{formatINR(totals.due)} • {totals.countDue} bills</p></div>\r\n        <div className=\"card\"><h4>Rent</h4><p>{formatINR(totals.rent)}</p></div>\r\n        <div className=\"card\"><h4>Electricity</h4><p>{formatINR(totals.electricity)}</p></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SettingsPanel({ userData, onSaved, onError }) {\r\n  const [form, setForm] = useState({\r\n    name: userData?.name || '',\r\n    email: userData?.email || '',\r\n    contact: userData?.contact || ''\r\n  });\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setForm({\r\n      name: userData?.name || '',\r\n      email: userData?.email || '',\r\n      contact: userData?.contact || ''\r\n    });\r\n  }, [userData]);\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setForm(f => ({ ...f, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    const contactRegex = /^[0-9]{10}$/;\r\n    if (!form.name.trim() || !emailRegex.test(form.email) || !contactRegex.test(form.contact)) {\r\n      onError?.('Please enter a valid name, email, and 10-digit phone number.');\r\n      return;\r\n    }\r\n    if (!userData?.uid) return;\r\n    setSaving(true);\r\n    try {\r\n      await updateDoc(doc(db, 'users', userData.uid), {\r\n        name: form.name.trim(),\r\n        email: form.email.trim(),\r\n        contact: form.contact.trim()\r\n      });\r\n      onSaved?.('Changes saved');\r\n    } catch {\r\n      onError?.('Failed to save changes');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"feature-panel fade-in\">\r\n      <h2>Settings</h2>\r\n      <form className=\"settings-form\" onSubmit={handleSubmit}>\r\n        <label>Name: <input name=\"name\" type=\"text\" value={form.name} onChange={handleChange} required /></label>\r\n        <label>Email: <input name=\"email\" type=\"email\" value={form.email} onChange={handleChange} required /></label>\r\n        <label>Phone: <input name=\"contact\" type=\"tel\" value={form.contact} onChange={handleChange} required /></label>\r\n        <button type=\"submit\" disabled={saving} aria-busy={saving}>{saving ? 'Saving...' : 'Save Changes'}</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===========================\r\n   Main page\r\n   =========================== */\r\n\r\nexport default function TenantDashboard({ tenantId }) {\r\n  const [activePanel, setActivePanel] = useState(null);\r\n  const [bills, setBills] = useState([]);\r\n  const [userData, setUserData] = useState(null);\r\n  const [modalBill, setModalBill] = useState(null);\r\n  const [statusMessage, setStatusMessage] = useState('');\r\n  const [processing, setProcessing] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const { width } = useWindowSize();\r\n  const navigate = useNavigate();\r\n  const { toasts, show } = useToasts();\r\n\r\n  useEffect(() => {\r\n    setSidebarOpen(width >= 768 ? true : false);\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    const unsub = onAuthStateChanged(auth, async user => {\r\n      if (!user) {\r\n        navigate('/login');\r\n        return;\r\n      }\r\n      try {\r\n        const snap = await getDoc(doc(db, 'users', user.uid));\r\n        setUserData({ uid: user.uid, ...snap.data() });\r\n      } catch {\r\n        setError('Failed to fetch user data.');\r\n      }\r\n    });\r\n    return unsub;\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (!tenantId) return;\r\n    setLoading(true);\r\n    fetchBills(tenantId)\r\n      .then(data => { setBills(data || []); setError(''); })\r\n      .catch(() => setError('Failed to load bills.'))\r\n      .finally(() => setLoading(false));\r\n  }, [tenantId]);\r\n\r\n  const handleLogout = () => signOut(getAuth()).then(() => navigate('/login'));\r\n\r\n  const openModal = useCallback(bill => {\r\n    setModalBill(bill);\r\n    setStatusMessage('');\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    if (!processing) setModalBill(null);\r\n  }, [processing]);\r\n\r\n  const loadRazorpayScript = () => new Promise(resolve => {\r\n    if (window.Razorpay) return resolve(true);\r\n    const s = document.createElement('script');\r\n    s.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n    s.onload = () => resolve(true);\r\n    s.onerror = () => resolve(false);\r\n    document.body.appendChild(s);\r\n  });\r\n\r\n  // Real Razorpay flow (keep for production)\r\n  // const handlePayment = useCallback(async () => {\r\n  //   if (!modalBill || !userData) return;\r\n  //   setProcessing(true);\r\n  //   setStatusMessage('Initializing payment...');\r\n  //   const loaded = await loadRazorpayScript();\r\n  //   if (!loaded || !process.env.REACT_APP_RAZORPAY_KEY_ID) {\r\n  //     setStatusMessage('Payment setup error.');\r\n  //     setProcessing(false);\r\n  //     return;\r\n  //   }\r\n  //   const opts = {\r\n  //     key: process.env.REACT_APP_RAZORPAY_KEY_ID,\r\n  //     amount: modalBill.amount * 100,\r\n  //     currency: 'INR',\r\n  //     name: 'Tenant Rent Payment',\r\n  //     description: `${modalBill.type} due ${modalBill.billFor}`,\r\n  //     handler: async res => {\r\n  //       setStatusMessage('Verifying payment...');\r\n  //       const ref = doc(db, 'users', modalBill.tenantId, 'bills', modalBill.id);\r\n  //       try {\r\n  //         await updateDoc(ref, { status: 'Paid', paymentId: res.razorpay_payment_id, paidAt: new Date() });\r\n  //         const updated = await fetchBills(tenantId);\r\n  //         setBills(updated || []);\r\n  //         setStatusMessage('Payment successful');\r\n  //         setTimeout(() => closeModal(), 1000);\r\n  //       } catch {\r\n  //         setStatusMessage('Error updating payment status.');\r\n  //       } finally {\r\n  //         setProcessing(false);\r\n  //       }\r\n  //     },\r\n  //     prefill: { name: userData.name || '', email: userData.email || '', contact: userData.contact || '' },\r\n  //     theme: { color: '#528FF0' }\r\n  //   };\r\n  //   try {\r\n  //     new window.Razorpay(opts).open();\r\n  //   } catch {\r\n  //     setStatusMessage('Payment failed.');\r\n  //     setProcessing(false);\r\n  //   }\r\n  // }, [modalBill, userData, tenantId, closeModal]);\r\n\r\n  // Mock payment for testing (writes to Firestore and refreshes list)\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [successMeta, setSuccessMeta] = useState(null);\r\n\r\n  const stripePromise = loadStripe('pk_test_51RuUuRQOfJEfe6eIyzIDFr7OqoJ3WNfdK02Up87IqJ17XICpsdkMFRuXeE5i8vHeoxSdqiSloEbMSE5LgPmQZzQa00J9tlsFmi');\r\n\r\n  function loadGooglePayScript() {\r\n    return new Promise((resolve, reject) => {\r\n      if (window.google?.payments?.api?.PaymentsClient) {\r\n        resolve(window.google.payments.api.PaymentsClient);\r\n        return;\r\n      }\r\n      const script = document.createElement('script');\r\n      script.src = 'https://pay.google.com/gp/p/js/pay.js';\r\n      script.onload = () => resolve(window.google.payments.api.PaymentsClient);\r\n      script.onerror = reject;\r\n      document.body.appendChild(script);\r\n    });\r\n  }\r\n\r\n  const handlePayment = useCallback(async (bill) => {\r\n    if (!bill) return;\r\n\r\n    const tenantUid = bill.tenantId || userData?.uid;\r\n    if (!tenantUid) {\r\n      setStatusMessage('Missing tenant ID');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const PaymentsClientConstructor = await loadGooglePayScript();\r\n\r\n      const paymentsClient = new PaymentsClientConstructor({\r\n       environment: 'TEST',\r\n\r\n      });\r\n\r\n      const paymentDataRequest = {\r\n        apiVersion: 2,\r\n        apiVersionMinor: 0,\r\n        allowedPaymentMethods: [{\r\n          type: 'CARD',\r\n          parameters: {\r\n            allowedAuthMethods: ['PAN_ONLY', 'CRYPTOGRAM_3DS'],\r\n            allowedCardNetworks: ['MASTERCARD', 'VISA'],\r\n          },\r\n          tokenizationSpecification: {\r\n            type: 'PAYMENT_GATEWAY',\r\n            parameters: {\r\n             gateway: 'example',\r\n            \r\n            },\r\n          },\r\n        }],\r\n        merchantInfo: {\r\n          merchantName: 'RentEase',\r\n        \r\n        },\r\n        transactionInfo: {\r\n          totalPriceStatus: 'FINAL',\r\n          totalPrice: bill.amount.toFixed(2),\r\n          currencyCode: 'INR',\r\n          countryCode: 'IN',\r\n        },\r\n      };\r\n\r\n\r\n      const paymentData = await paymentsClient.loadPaymentData(paymentDataRequest);\r\n      console.log('Google Pay response:', paymentData);\r\n\r\n      const token = paymentData.paymentMethodData.tokenizationData.token;\r\n      console.log('Token received from Google Pay:', token);\r\n\r\n      // Simulate sending token to backend\r\n      await fetch('/your-backend-endpoint', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ token, amount: bill.amount }),\r\n      });\r\n\r\n      const ref = doc(db, 'users', tenantUid, 'bill', bill.id);\r\n      await setDoc(ref, { status: 'Paid', paidAt: new Date() }, { merge: true });\r\n\r\n      const updated = await fetchBills(tenantId);\r\n      setBills(updated || []);\r\n      setShowSuccess(true);\r\n      show('Payment recorded via Google Pay (Razorpay)', 'success');\r\n    } catch (err) {\r\n      console.error('Payment failed:', err);\r\n\r\n      const errorMessage = err?.message || 'Payment cancelled or failed';\r\n\r\n\r\n      show(errorMessage, {\r\n        type: 'error',\r\n        autoClose: false,\r\n        closeOnClick: true,\r\n        draggable: true,\r\n      });\r\n\r\n    }\r\n\r\n  }, [userData, tenantId, show, setBills, setShowSuccess, setStatusMessage]);\r\n\r\n\r\n\r\n\r\n\r\n  const panelMap = useMemo(() => ({\r\n    null: <OverviewPanel bills={bills} />,\r\n    payments: <PaymentsPanel bills={bills} /* openModal={openModal} */ />,\r\n    houseRent: <CategoryPanel bills={bills} type=\"rent\" openModal={openModal} />,\r\n    electricity: <CategoryPanel bills={bills} type=\"electricity\" openModal={openModal} />,\r\n    analytics: <AnalyticsPanel bills={bills} />,\r\n    settings: <SettingsPanel\r\n      userData={userData}\r\n      onSaved={(msg) => show(msg, 'success')}\r\n      onError={(msg) => show(msg, 'error')}\r\n    />\r\n  }), [bills, openModal, userData, show]);\r\n\r\n  return (\r\n    <div className={`tenant-dashboard ${sidebarOpen ? 'sidebar-open' : ''}`}>\r\n      <div className=\"top-right-actions\">\r\n        <button className=\"logout-btn\" onClick={handleLogout} title=\"Logout\" aria-label=\"Logout\">\r\n          <FiLogOut style={{ marginRight: '6px' }} />\r\n\r\n        </button>\r\n      </div>\r\n\r\n      <Sidebar\r\n        activePanel={activePanel}\r\n        onSelect={id => {\r\n          setActivePanel(id);\r\n          if (width < 768) setSidebarOpen(false);\r\n        }}\r\n      />\r\n      <main className=\"dashboard-body\">\r\n        {loading\r\n          ? <div className=\"loading\">Loading…</div>\r\n          : error\r\n            ? <div className=\"error-msg\">{error}</div>\r\n            : panelMap[activePanel]}\r\n      </main>\r\n      <nav className=\"mobile-nav\">\r\n        <button onClick={() => setActivePanel(null)} title=\"Dashboard\" aria-label=\"Dashboard\"><FaHome /></button>\r\n        <button onClick={() => setActivePanel('payments')} title=\"Payments\" aria-label=\"Payments\"><FaReceipt /></button>\r\n        <button onClick={() => setActivePanel('houseRent')} title=\"Rent\" aria-label=\"Rent\"><FaMoneyBillWave /></button>\r\n        <button onClick={() => setActivePanel('electricity')} title=\"Electricity\" aria-label=\"Electricity\"><FaBolt /></button>\r\n        <button onClick={() => setActivePanel('settings')} title=\"Settings\" aria-label=\"Settings\"><FaCog /></button>\r\n      </nav>\r\n\r\n      {modalBill && (\r\n        <PaymentModal\r\n          bill={modalBill}\r\n          processing={processing}\r\n          statusMessage={statusMessage}\r\n          onClose={closeModal}\r\n          handlePayment={handlePayment}\r\n        />\r\n\r\n      )}\r\n\r\n      {showSuccess && (\r\n        <SuccessDialog meta={successMeta} onClose={() => setShowSuccess(false)} />\r\n      )}\r\n\r\n      <Toasts toasts={toasts} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["async","fetchBills","tenantId","Error","billsRef","collection","db","getDocs","docs","map","doc","_objectSpread","id","data","error","console","stripePromise","RELEASE_TRAIN","ORIGIN","STRIPE_JS_URL","concat","V3_URL_REGEX","STRIPE_JS_URL_REGEX","EXISTING_SCRIPT_MESSAGE","injectScript","params","queryString","advancedFraudSignals","script","document","createElement","src","headOrBody","head","body","appendChild","stripePromise$1","onErrorListener","onLoadListener","loadScript","Promise","resolve","reject","window","Stripe","warn","url","scripts","querySelectorAll","i","length","test","findScript","_script$parentNode","removeEventListener","parentNode","removeChild","onLoad","cause","onError","addEventListener","loadCalled","getStripePromise","then","loadStripe","_len","arguments","args","Array","_key","startTime","Date","now","maybeStripe","isTestKey","match","version","runtimeVersionToUrlVersion","expectedVersion","stripe","apply","undefined","_registerWrapper","name","registerWrapper","initStripe","Toasts","_ref","toasts","_jsx","className","children","t","type","message","inr","Intl","NumberFormat","style","currency","maximumFractionDigits","formatINR","n","format","Number","Sidebar","_ref2","activePanel","onSelect","items","icon","FaHome","label","FaReceipt","FaMoneyBillWave","FaBolt","FaChartPie","FaCog","_jsxs","role","_ref3","onClick","tabIndex","onKeyDown","e","key","PaymentModal","_ref5","bill","processing","statusMessage","onClose","handlePayment","modalRef","useRef","firstFocusable","lastFocusable","useEffect","el","current","focusables","focus","trap","isShift","shiftKey","activeElement","preventDefault","esc","_Fragment","ref","amount","disabled","FaTimes","billFor","SuccessDialog","_ref6","meta","onEsc","stopPropagation","viewBox","cx","cy","r","d","fill","strokeLinecap","month","year","OverviewPanel","_ref7","bills","rentDue","useMemo","filter","b","status","reduce","s","elecDue","upcoming","sort","a","PaymentsPanel","_ref8","setStatus","useState","sorted","filtered","currentPage","setCurrentPage","indexOfLastRow","indexOfFirstRow","currentRows","slice","totalPages","Math","ceil","value","onChange","target","opacity","prev","max","width","height","transform","min","CategoryPanel","_ref9","openModal","monthFilter","setMonthFilter","yearFilter","setYearFilter","page","setPage","MONTHS","MONTH_INDEX","forEach","m","toLowerCase","toMonthIndex","_MONTH_INDEX$key","String","trim","sortedBills","yearA","yearB","paged","start","y","resetFilters","toLocaleString","isFinite","lastUnit","currentUnit","ratePerUnit","note","p","FaChevronLeft","color","FaChevronRight","AnalyticsPanel","_ref0","totals","acc","total","paid","countPaid","due","countDue","rent","electricity","SettingsPanel","_ref1","userData","onSaved","form","setForm","email","contact","saving","setSaving","handleChange","f","onSubmit","uid","updateDoc","_unused","required","TenantDashboard","_ref10","setActivePanel","setBills","setUserData","modalBill","setModalBill","setStatusMessage","setProcessing","loading","setLoading","setError","sidebarOpen","setSidebarOpen","size","setSize","innerWidth","innerHeight","handle","clearTimeout","setTimeout","useWindowSize","navigate","useNavigate","show","setToasts","useCallback","ttl","random","toString","x","useToasts","auth","getAuth","onAuthStateChanged","user","snap","getDoc","_unused2","catch","finally","closeModal","showSuccess","setShowSuccess","successMeta","setSuccessMeta","tenantUid","paymentsClient","_window$google","_window$google$paymen","_window$google$paymen2","google","payments","api","PaymentsClient","onload","onerror","environment","paymentDataRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","parameters","allowedAuthMethods","allowedCardNetworks","tokenizationSpecification","gateway","merchantInfo","merchantName","transactionInfo","totalPriceStatus","totalPrice","toFixed","currencyCode","countryCode","paymentData","loadPaymentData","log","token","paymentMethodData","tokenizationData","fetch","method","headers","JSON","stringify","setDoc","paidAt","merge","updated","err","errorMessage","autoClose","closeOnClick","draggable","panelMap","null","houseRent","analytics","settings","msg","handleLogout","signOut","title","FiLogOut","marginRight"],"sourceRoot":""}